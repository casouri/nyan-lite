#+TITLE: Nyan Bite

A lite version of [[https://github.com/TeMPOraL/nyan-mode][nyan-mode]].

This package adds a animated nyan cat to your mode-line.

[[./nyan-lite.gif]]

* Install

Download the package and add it's path to load-path

* Usage

To enable, simply =M-x nyan-lite-mode=

To use with customized mode-line, set =nyan-lite-add-mode-line= to =nil=.
Then add =(:eval (when (bound-and-true-p nyan-lite-mode) (nyan-lite-mode-line)))= to =mode-line-format=.

* Customize

- =nyan-lite-width= :: Width of nyan cat in mode-line in unit of 8 pixels.

- =nyan-cat-animate-interval= :: The update interval of animation.

- =nyan-lite-add-mode-line= :: Whether to add nyan cat to mode-line automatically.

** Trail pattern

The trail pattern is defined by =nyan-lite-trail-ascent-pattern=:

#+BEGIN_SRC emacs-lisp
(defvar nyan-lite-trail-ascent-pattern '#1=(90 90 100 100 . #1#)
  "A circular list of the pattern of trail: __--__--__.")
#+END_SRC

For example, ...__-__-__- (right to left) would be ='#1=(100 90 90 . #1#)=.
=100= is the normal height, =90= is lower, =80= is much lower, etc. See more in the source.

* Benchmark

#+BEGIN_SRC emacs-lisp
(require 'nyan-mode)
(require 'nyan-lite)
(nyan-mode)
(nyan-start-animation)
(nyan-lite-mode)

(benchmark-run 1000 (nyan-create))
(0.312772 8 0.2761969999999989)

(benchmark-run 1000 (nyan-lite-mode-line))
(0.00019099999999999998 0 0.0)

(/ (car (benchmark-run 1000 (nyan-create)))
   (car (benchmark-run 1000 (nyan-lite-mode-line))))
1918.8012048192768

;; with progress bar utility
(setq nyan-lite-progress-bar t)
(benchmark-run 1000 (nyan-lite-mode-line))
(0.05632 1 0.04994199999999971)

(/ (car (benchmark-run 1000 (nyan-create)))
   (car (benchmark-run 1000 (nyan-lite-mode-line))))
4.721103743888554

#+END_SRC

The main reason for the speedup is that =nyan-lite= doesn't provide progress bar utility,
therefore is able to cache the nyan cat.

With progress bar enabled, nyan lite has a less significant 4x speed up.
